"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[810],{7810:function(e,n,t){t.r(n),t.d(n,{LoginPage:function(){return u}});var i=t(6152),a=t(9439),r=t(4781),o=t(7313),s=t(5190),d=t(6299),c=t(7890),l=t(6417);function u(){var e=o.useState({id:"",email:"",name:"",password:""}),n=(0,a.Z)(e,2),t=n[0],r=n[1],u=o.useContext(s.S),w=(u.currentUser,u.dispatchUser),v=(0,c.s0)(),C=o.useState(!1),b=(0,a.Z)(C,2),j=b[0],Z=b[1],y=o.useState(!1),k=(0,a.Z)(y,2),P=k[0],I=k[1],S=o.useRef(null);return(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(f,{children:(0,l.jsxs)(p,{ref:S,children:[(0,l.jsx)("h1",{children:"Login"}),P&&(0,l.jsx)(g,{children:"Credenciales erroneas"}),(0,l.jsx)(x,{children:"Email"}),(0,l.jsx)(m,{type:"text",id:"email",name:"email",value:t.email,onChange:function(e){r((function(n){return(0,i.Z)((0,i.Z)({},n),{},{email:e.target.value})}))},"data-testid":"email"}),(0,l.jsx)(x,{children:"Password"}),(0,l.jsx)(m,{type:"text",id:"password",name:"password",value:t.password,onChange:function(e){r((function(n){return(0,i.Z)((0,i.Z)({},n),{},{password:e.target.value})}))},"data-testid":"password"}),j&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(x,{children:"Name"}),(0,l.jsx)(m,{type:"text",id:"name",name:"name",value:t.name,onChange:function(e){r((function(n){return(0,i.Z)((0,i.Z)({},n),{},{name:e.target.value})}))}})]}),j?(0,l.jsx)(h,{type:"submit",onClick:function(e){e.preventDefault(),(0,d.a$)((0,i.Z)({},t))},"data-testid":"sign-in",children:"Crear cuenta"}):(0,l.jsx)(h,{type:"submit",onClick:function(e){e.preventDefault(),(0,d.pH)(t.email,t.password?t.password:"").then((function(e){if(e)if(e.error)I(!0);else{var n=e.data,t=n.id,i=n.name,a=n.email;w({type:"set_user",id:t,name:i,email:a}),I(!1),v("/")}})).catch((function(e){return console.log(e)}))},"data-testid":"login",children:"Continuar"}),!j&&(0,l.jsx)("a",{href:"#",onClick:function(){Z(!0)},"data-testid":"register",children:"Registrate"})]})})})}var f=r.ZP.div.withConfig({componentId:"sc-1fxn11f-0"})(["display:flex;flex-direction:column;justify-content:center;width:1240px;margin:auto;font-size:1.2rem;"]),p=r.ZP.form.withConfig({componentId:"sc-1fxn11f-1"})(["position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;flex-direction:column;padding:50px;background:white;width:500px;border-radius:15px;opacity:1;transition:opacity 0.3s;"]),x=r.ZP.label.withConfig({componentId:"sc-1fxn11f-2"})([""]),m=r.ZP.input.withConfig({componentId:"sc-1fxn11f-3"})([""]),h=r.ZP.button.withConfig({componentId:"sc-1fxn11f-4"})(["width:200px;background:transparent;border:2px solid var(--blue);border-radius:2px;outline:none;margin:20px auto;padding:8px;&:hover{background:var(--blue);border:2px solid var(--blue);color:white;}"]),g=r.ZP.div.withConfig({componentId:"sc-1fxn11f-5"})(["color:red;"])}}]);